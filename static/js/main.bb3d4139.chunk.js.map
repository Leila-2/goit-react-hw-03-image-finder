{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/Loader/LoaderComp.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","value","onChange","e","setState","currentTarget","toLowerCase","handleSubmit","event","preventDefault","props","onSubmit","trim","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","className","s","SearchForm","this","type","Button","ButtonLabel","Input","autoComplete","autoFocus","placeholder","Component","LoaderComponent","color","height","width","timeout","onClick","modalRoot","document","querySelector","Modal","closeHandler","code","console","log","onClose","backdropHandler","target","window","addEventListener","removeEventListener","createPortal","Overlay","src","url","alt","ImageGalleryItem","showModal","toggleModal","webformatURL","id","largeImageURL","ItemImage","ImageGallery","imgInfo","error","page","status","loadMore","prevState","prevProps","newValue","oldValue","newPage","prevPage","fetch","then","response","ok","json","data","hits","length","Error","Promise","reject","catch","message","map","App","handleFormSubmit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bb3d4139.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ItemImage\":\"ImageGalleryItem_ItemImage__2xlls\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import s from \"./Searchbar.module.css\";\nimport React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\n\nclass Searchbar extends Component {\n  state = {\n    value: \"\",\n  };\n  onChange = (e) => {\n    this.setState({ value: e.currentTarget.value.toLowerCase() });\n  };\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.value);\n    this.setState({ value: \"\" });\n    if (this.state.value.trim() === \"\") {\n      toast(\"Введите тему для картинки :)\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n      return;\n    }\n  };\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.Button}>\n            <span className={s.ButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.Input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.onChange}\n            value={this.state.value}\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport default Searchbar;\n","import React from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\n\nexport default function LoaderComponent(props) {\n  return (\n    <Loader\n      type=\"Circles\"\n      color=\"#00BFFF\"\n      height={50}\n      width={50}\n      timeout={3000} //3 secs\n      className=\"Loader\"\n    />\n  );\n}\n","import React from \"react\";\nimport s from \"./Button.module.css\";\nexport default function Button({ onClick }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.closeHandler);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.closeHandler);\n  }\n  closeHandler = (e) => {\n    if (e.code === \"Escape\") {\n      console.log(\"ESC :)\");\n      this.props.onClose();\n    }\n  };\n  backdropHandler = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.backdropHandler}>\n        <div className={s.Modal}>\n          <img src={this.props.url} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nimport Modal from \"../Modal/Modal\";\nclass ImageGalleryItem extends Component {\n  state = {\n    showModal: false,\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const showModal = this.state.showModal;\n    const toggleModal = this.toggleModal;\n    const { webformatURL, id, largeImageURL } = this.props;\n    return (\n      <>\n        <li key={id} className={s.ImageGalleryItem} onClick={toggleModal}>\n          <img className={s.ItemImage} src={webformatURL} alt=\"\" />\n        </li>\n        {showModal && <Modal onClose={toggleModal} url={largeImageURL} />}\n      </>\n    );\n  }\n}\nexport default ImageGalleryItem;\n","import React, { Component } from \"react\";\nimport s from \"./ImageGallery.module.css\";\nimport Loader from \"../Loader/LoaderComp\";\nimport Button from \"../Button/Button\";\n\nimport { ToastContainer } from \"react-toastify\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nexport default class ImageGallery extends Component {\n  state = {\n    imgInfo: null,\n    error: null,\n    page: 1,\n    status: \"idle\",\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const newValue = this.props.value;\n    const oldValue = prevProps.value;\n    const newPage = this.state.page;\n    const prevPage = prevState.page;\n    const key = `23558220-fb5623a2d9636919de7621278`;\n    let url = `https://pixabay.com/api/?q=${newValue}&page=${newPage}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\n\n    if (oldValue !== newValue) {\n      this.setState({ status: \"pending\" });\n\n      fetch(url)\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          }\n        })\n        .then((data) => {\n          return data.hits;\n        })\n        .then((imgInfo) => {\n          if (imgInfo.length === 0) {\n            this.setState({ status: \"rejected\", error: new Error() });\n            return Promise.reject(new Error(`Нет фото на тему ${newValue}`));\n          }\n          console.log(imgInfo);\n          this.setState({ imgInfo, status: \"resolved\" });\n        })\n        .catch((error) => this.setState({ error }));\n    }\n    if (prevPage !== newPage) {\n      fetch(url)\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          }\n        })\n        .then((data) => {\n          return data.hits;\n        })\n        .then((imgInfo) => {\n          if (imgInfo.length === 0) {\n            this.setState({ status: \"rejected\", error: new Error() });\n            return Promise.reject(new Error(`Нет фото на тему ${newValue}`));\n          }\n\n          this.setState((prevState) => ({\n            imgInfo: [...prevState.imgInfo, ...imgInfo],\n          }));\n          this.setState({ status: \"resolved\" });\n        })\n        .catch((error) => this.setState({ error }));\n    }\n  }\n  loadMore = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { status, imgInfo, error } = this.state;\n\n    if (status === \"idle\") {\n      return <ToastContainer position=\"top-right\" autoClose={5000} />;\n    }\n\n    if (status === \"pending\") {\n      return <Loader />;\n    }\n\n    if (status === \"rejected\") {\n      return <p>{error.message}</p>;\n    }\n\n    if (status === \"resolved\") {\n      return (\n        <>\n          <ul className={s.ImageGallery}>\n            {imgInfo.map(({ webformatURL, id, largeImageURL }) => (\n              <ImageGalleryItem\n                webformatURL={webformatURL}\n                key={id}\n                largeImageURL={largeImageURL}\n              />\n            ))}\n          </ul>\n          <Button onClick={this.loadMore} />\n        </>\n      );\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\n\nclass App extends Component {\n  state = {\n    showModal: false,\n    value: \"\",\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  handleFormSubmit = (value) => {\n    console.log(value);\n    this.setState({ value: value });\n  };\n  render() {\n    const handleFormSubmit = this.handleFormSubmit;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={handleFormSubmit} />\n        <ImageGallery value={this.state.value} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"Button\":\"Searchbar_Button__257ni\",\"ButtonLabel\":\"Searchbar_ButtonLabel__2McP2\",\"Input\":\"Searchbar_Input__3SYi2\"};"],"sourceRoot":""}